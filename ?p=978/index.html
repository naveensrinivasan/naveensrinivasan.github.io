<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="ie=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=author content="admin">
<meta name=description content="In my opinion Stack Overflow has a ton of knowledge to learn new tricks. And there are some really smart people in the SO community. I try and learn new things when I find time.
I subscribe to RSS feeds for new questions on a particular topic. Example, here is one for F# from Stack Overflow http://stackoverflow.com/feeds/tag/f%23. The advantage of the RSS feed is I get to see new questions, but the drawback is I would have to navigate to the site to look for answers.">
<meta name=keywords content>
<meta name=robots content="noodp">
<meta name=theme-color content>
<link rel=canonical href="/?p=978/">
<title>
Combining Stack Overflow RSS, OData and API to query :: naveen srinivasan — Write code.Loves to read
</title>
<link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css>
<link rel=stylesheet href=/main.29c2c8c3fc9cf748254138351f142ac2833b208a68e83aec126edc98b59efef2.css>
<meta itemprop=name content="Combining Stack Overflow RSS, OData and API to query">
<meta itemprop=description content="In my opinion Stack Overflow has a ton of knowledge to learn new tricks. And there are some really smart people in the SO community. I try and learn new things when I find time.
I subscribe to RSS feeds for new questions on a particular topic. Example, here is one for F# from Stack Overflow http://stackoverflow.com/feeds/tag/f%23. The advantage of the RSS feed is I get to see new questions, but the drawback is I would have to navigate to the site to look for answers."><meta itemprop=datePublished content="2010-07-14T03:18:05+00:00">
<meta itemprop=dateModified content="2010-07-14T03:18:05+00:00">
<meta itemprop=wordCount content="395"><meta itemprop=image content="/">
<meta itemprop=keywords content>
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="/">
<meta name=twitter:title content="Combining Stack Overflow RSS, OData and API to query">
<meta name=twitter:description content="In my opinion Stack Overflow has a ton of knowledge to learn new tricks. And there are some really smart people in the SO community. I try and learn new things when I find time.
I subscribe to RSS feeds for new questions on a particular topic. Example, here is one for F# from Stack Overflow http://stackoverflow.com/feeds/tag/f%23. The advantage of the RSS feed is I get to see new questions, but the drawback is I would have to navigate to the site to look for answers.">
<meta property="article:section" content="linqpad">
<meta property="article:section" content="odata">
<meta property="article:published_time" content="2010-07-14 03:18:05 +0000 UTC">
</head>
<body>
<div class=container>
<header class=header>
<span class=header__inner>
<a href=/ style=text-decoration:none>
<div class=logo>
<span class=logo__mark>></span>
<span class=logo__text>cd /home</span>
<span class=logo__cursor>
</span>
</div>
</a>
<span class=header__right>
<nav class=menu>
<ul class=menu__inner><li><a href=/posts>posts</a></li><li><a href=/posts>resume</a></li>
</ul>
</nav>
<span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
</span>
</span>
</span>
</header>
<div class=content>
<main class=post>
<div class=post-info>
</p>
</div>
<article>
<h2 class=post-title><a href="/?p=978/">Combining Stack Overflow RSS, OData and API to query</a></h2>
<div class=post-content>
<p>In my opinion <a href=http://stackoverflow.com/>Stack Overflow</a> has a ton of knowledge to learn new tricks. And there are some really smart people in the SO community. I try and learn new things when I find time.</p>
<p>I subscribe to RSS feeds for new questions on a particular topic. Example, here is one for F# from Stack Overflow <a href=http://stackoverflow.com/feeds/tag/f%23>http://stackoverflow.com/feeds/tag/f%23</a>. The advantage of the RSS feed is I get to see new questions, but the drawback is I would have to navigate to the site to look for answers. AFAIK the <a href=http://stacky.codeplex.com/>stacky</a> (stack overflow API) does not provide a mechanism for querying new questions based on a tag.</p>
<p>It was easy for me to combine both of them to solve my problem. With RSS feed I could discover new questions and with the stacky I could get answers . And I use Linqpad as a scratchpad so it was easy to write-up something quick.</p>
<p>[sourcecode language=”csharp”]</p>
<p>void Main()</p>
<p>{</p>
<p>var reader = XmlReader.Create(&ldquo;<a href=http://stackoverflow.com/feeds/tag/f%23%22);>http://stackoverflow.com/feeds/tag/f%23");</a></p>
<p>var feed = SyndicationFeed.Load(reader);</p>
<p>var length = &ldquo;<a href=http://stackoverflow.com/questions/%22.Length;>http://stackoverflow.com/questions/".Length;</a></p>
<p>var client = new StackyClient(&ldquo;1.0&rdquo;, File.ReadAllText(@&ldquo;c:tempso.txt&rdquo;),HostSite.StackOverflow,new UrlClient(), new JsonProtocol());</p>
<p>var feedItems = from item in feed.Items</p>
<p>let nextOccurence = item.Id.ToString().IndexOf("/",length)</p>
<p>let getId = new Func(() => Convert.ToInt32( item.Id.Substring(length,nextOccurence – length)))</p>
<p>select new {Id = getId(), Title = item.Title.Text, Body = item.Summary.Text.StripHTML()};</p>
<p>var answers = client.GetQuestionAnswers(feedItems.Select (y => y.Id),new AnswerOptions() { IncludeBody = true});</p>
<p>// The latest F# feed questions and answers</p>
<p>var qa = from question in feedItems</p>
<p>join answer in answers on question.Id equals answer.QuestionId</p>
<p>where answer.Accepted == true</p>
<p>select new { Title = question.Title, Question = question.Body.StripHTML(), Answer = answer.Body.StripHTML()};</p>
<p>qa.Dump();</p>
<p>}</p>
<p>public static class Extensions</p>
<p>{</p>
<p>public static string StripHTML(this string s)</p>
<p>{</p>
<p>return Regex.Replace(s, @"&lt;(.|n)*?>&rdquo;, string.Empty);</p>
<p>}</p>
<p>}</p>
<p>[/sourcecode]</p>
<p><a href=http://104.197.135.42/wp-content/uploads/2010/07/so1.jpg></a></p>
<p>And if you have been following F# and functional programming then you would probably know <a href=http://tomasp.net/>Tomas</a>. I would also like to read what he has been answering. Again stacky does not provide an API to query user by name. This is where the SO <a href=https://odata.sqlazurelabs.com/OData.svc/v0.1/rp1uiewita/StackOverflow>OData</a> comes in handy and LinqPad handles OData very well. Here is the code to get Tomas user id via OData and query for questions and answers which he has answered using stacky .</p>
<p>[sourcecode language=”csharp”]</p>
<p>var tomas = Users.Where(u => u.DisplayName.StartsWith(&ldquo;Tomas Pet&rdquo;)).First().Id;</p>
<p>var tomasQA = from ans in  client.GetUsersAnswers(tomas,new AnswerOptions() { IncludeBody = true })</p>
<p>select new { Title = ans.Title, Question = client.GetQuestion(ans.QuestionId,true,false).Body.StripHTML(),</p>
<p>Answer = ans.Body.StripHTML()};</p>
<p>tomasQA.Dump();</p>
<p>[/sourcecode]</p>
</div>
</article>
<hr>
<div class=post-info>
<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>
<span class=tag><a href=/categories/linqpad/>linqpad</a></span>
<span class=tag><a href=/categories/odata/>odata</a></span>
</p>
</div>
</main>
</div>
<footer class=footer>
</footer>
</div>
<script type=text/javascript src=/bundle.min.599099f1f14b78b657d524b28e10e0c5098e7cd46e9c7aed73d577068a276c3ff1bb234cbf29cb313333e83cf411727b43157c91ce5b809e2ffc81664614608e.js integrity="sha512-WZCZ8fFLeLZX1SSyjhDgxQmOfNRunHrtc9V3BoonbD/xuyNMvynLMTMz6Dz0EXJ7QxV8kc5bgJ4v/IFmRhRgjg=="></script>
</body>
</html>